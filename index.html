<!doctype html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Premium Photo Viewer</title>

<link href="https://fonts.googleapis.com/css2?family=Hind:wght@400;600;700&display=swap" rel="stylesheet">

<style>
:root{
  --w:min(95vw,650px);
  --h:min(80vh,780px);
}

*{box-sizing:border-box}

body{
  margin:0;
  min-height:100vh;
  display:grid;
  place-items:center;
  font-family:Hind,sans-serif;
  background:linear-gradient(135deg,#3a2a1c,#2b1b0f);
}

/* top controls */
.topbar{
  position:fixed;
  top:12px;
  left:0;
  right:0;
  display:flex;
  justify-content:center;
  gap:10px;
}

button{
  padding:8px 15px;
  border:none;
  border-radius:30px;
  cursor:pointer;
  font-weight:bold;
}

/* viewer */
.viewer{
  width:var(--w);
  height:var(--h);
  background:black;
  display:flex;
  justify-content:center;
  align-items:center;
  overflow:hidden;
  position:relative;
  touch-action:none;
}

/* image */
.viewer img{
  width:100%;
  height:100%;
  object-fit:contain;
  transition:opacity .3s ease, transform .2s ease;
}

/* counter */
.counter{
  position:absolute;
  top:10px;
  right:10px;
  color:white;
  background:rgba(0,0,0,.4);
  padding:5px 12px;
  border-radius:20px;
}

/* fade */
.fade{opacity:0}
</style>
</head>

<body>

<div class="topbar">
<button id="prevBtn">⬅ Prev</button>
<button id="nextBtn">Next ➡</button>
<button id="fullscreenBtn">⛶ Full</button>
<button id="autoBtn">▶ Auto</button>
</div>

<div class="viewer" id="viewer">
<img id="photo">
<div class="counter" id="counter"></div>
</div>

<script>
/* photos */
const photos=[
"a.jpg","b.jpg","c.jpg","n.jpg","m.jpg","e.jpg","f.jpg","g.jpg"
];

let index=0;
const img=photo;
const counter=document.getElementById("counter");

/* update UI */
function update(){
  img.src=photos[index];
  counter.textContent=(index+1)+" / "+photos.length;
}

/* smooth change */
function show(i){
  if(i<0||i>=photos.length) return;

  img.classList.add("fade");
  setTimeout(()=>{
    index=i;
    update();
    img.classList.remove("fade");
  },150);
}

function next(){show(index+1)}
function prev(){show(index-1)}

nextBtn.onclick=next;
prevBtn.onclick=prev;

/* fullscreen */
fullscreenBtn.onclick=()=>{
  if(!document.fullscreenElement)
    viewer.requestFullscreen();
  else
    document.exitFullscreen();
};

/* auto slideshow */
let auto=false, timer=null;

autoBtn.onclick=()=>{
  auto=!auto;
  autoBtn.textContent=auto?"⏸ Stop":"▶ Auto";

  if(auto){
    timer=setInterval(next,2500);
  }else{
    clearInterval(timer);
  }
};

/* swipe */
let startX=0;
viewer.addEventListener("pointerdown",e=>{
  startX=e.clientX;
});

viewer.addEventListener("pointerup",e=>{
  let dx=e.clientX-startX;
  if(dx<-60) next();
  if(dx>60) prev();
});

/* zoom system */
let scale=1;
let startDist=0;

/* double tap zoom */
let lastTap=0;
viewer.addEventListener("pointerdown",e=>{
  let now=Date.now();
  if(now-lastTap<300){
    scale=scale===1?2:1;
    img.style.transform=`scale(${scale})`;
  }
  lastTap=now;
});

/* pinch zoom mobile */
viewer.addEventListener("touchstart",e=>{
  if(e.touches.length===2){
    startDist=getDist(e.touches);
  }
});

viewer.addEventListener("touchmove",e=>{
  if(e.touches.length===2){
    let newDist=getDist(e.touches);
    scale=newDist/startDist;
    img.style.transform=`scale(${scale})`;
  }
});

function getDist(t){
  return Math.hypot(
    t[0].clientX-t[1].clientX,
    t[0].clientY-t[1].clientY
  );
}

/* init */
update();
</script>

</body>
</html>